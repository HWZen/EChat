/*
BUILT_AT: 2021年10月8日 04:03
*/
!function(t){function e(e){for(var o,r,c=e[0],u=e[1],s=e[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);for(f&&f(e);d.length;)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,r=1;r<n.length;r++){var u=n[r];0!==i[u]&&(o=!1)}o&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={2:0},i={2:0},a=[];function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[];r[t]?e.push(r[t]):0!==r[t]&&{5:1}[t]&&e.push(r[t]=new Promise((function(e,n){for(var o="static/css/"+({}[t]||t)+"."+t+".9cfafd8d.css",i=c.p+o,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var s=(f=a[u]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(s===o||s===i))return e()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){var f;if((s=(f=l[u]).getAttribute("data-href"))===o||s===i)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var o=e&&e.target&&e.target.src||i,a=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete r[t],d.parentNode.removeChild(d),n(a)},d.href=i,document.getElementsByTagName("head")[0].appendChild(d)})).then((function(){r[t]=0})));var n=i[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=i[t]=[e,o]}));e.push(n[2]=o);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=function(t){return c.p+"static/js/"+({}[t]||t)+".9cfafd8d.js"}(t);var s=new Error;a=function(e){u.onerror=u.onload=null,clearTimeout(l);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,n[1](s)}i[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="//s1.hdslb.com/bfs/static/blive/bpfe-dynamic-nav-iframe/",c.oe=function(t){throw console.error(t),t};var u=("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=s;a.push([263,0,3]),n()}({0:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o={API_LIVE:"//api.live.bilibili.com",API_VC:"//api.vc.bilibili.com",API_MAIN:"//api.bilibili.com",API_VC_CO:"//api.vc.bilibili.co",API_MAIN_CO:"//api.bilibili.co",MAIN:"//www.bilibili.com",SPACE:"//space.bilibili.com",PASSPORT:"//passport.bilibili.com",BANGUMI:"//bangumi.bilibili.com",DATA:"//data.bilibili.com",T:"//t.bilibili.com",H:"//h.bilibili.com",VC:"//vc.bilibili.com",APP:"//app.bilibili.com",MESSAGE:"//message.bilibili.com",LINK:"//link.bilibili.com",M:"//m.bilibili.com",LIVE:"//live.bilibili.com"}},10:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return g}));n(7),n(2),n(9),n(27),n(73),n(32);var o=n(4),r=/\/bfs\//,i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=t;if(!o.b&&/\.webp$/.test(t)&&(/@/.test(t)?c=t.replace(/\.webp$/,".jpg"):c+="@.jpg"),"undefined"!=typeof window&&window&&window._bp_audit_mode||!t||"string"!=typeof t||!/\.(jpg|png|gif)(@\w*)?$/.test(t)||!r.test(t))return encodeURI(c);var u=(t=t.replace(/(\.\w+)@\w*$/,(function(t,e){return e}))).match(/\.(jpg|png|gif)$/)[0],s=!1===i.autoDpr||"undefined"==typeof window?1:parseInt(window.devicePixelRatio)||1,l=Math.ceil(e),f=Math.ceil(n),d=l?"".concat(l*s,"w"):"",p=f?"".concat(f*s,"h"):"",y=a(i.p,"p"),v=a(i.e,"e"),h=a(i.c,"c"),b=i.others?i.others:"",m=[d,p,y,v,h,b],g=m.filter((function(t){return""!==t})).join("_"),w=o.b&&!1!==i.useWebp,_=w?".webp":u,O=d||p||h||b||w;return encodeURI(O?"".concat(t,"@").concat(g).concat(_):"".concat(c))};function a(t,e){return"string"==typeof t?t:"number"==typeof t?"".concat(t).concat(e):""}var c=n(14),u=new(n.n(c).a)({});n(3),n(13),n(11),n(55);Object(o.c)(),n(47),n(30),n(50),n(160);n(93);var s={angry:[",,Ծ‸Ծ,,","(╯‵□′)╯︵┻━┻"],happy:["=‿=✧","●ω●","(/ ▽ \\)","(=・ω・=)","(●'◡'●)ﾉ♥","<(▰˘◡˘▰)>","(⁄ ⁄•⁄ω⁄•⁄ ⁄)","(ง,,• ᴗ •,,)ง ✧",">ㅂ<ﾉ ☆"],shock:["Σ( ° △ °|||)︴","┌( ಠ_ಠ)┘","(ﾟДﾟ≡ﾟдﾟ)!?","∑(っ °Д °;)っ"],sad:["＞︿＜","＞△＜","●︿●","(´；ω；`)"],helpless:["◐▽◑","ʅ（´◔౪◔）ʃ","_(:3 」∠)_","_(┐「ε:)_","(°▽°)ﾉ","←◡←","_(•̀ᴗ•́ 」∠ ❀)_","_φ(･ω･` )"]},l={};for(var f in s)!function(t){l[t]=function(){return d(t)}}(f);var d=function(t){return s[t][Math.floor(Math.random()*s[t].length)]},p=(n(18),n(20),n(21),n(19),n(22),n(23),n(5));function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var v=function(){return Object(p.a)({method:"get",url:"//api.vc.bilibili.com/dynamic_mix/v1/dynamic_mix/bvid_onoff",cache_key:"bpShowBvConfig",ttl:4e3,localCache:!0,throttleInterval:4e3,timeout:5e3}).then((function(t){var e=!0===t.data.show_bv||"true"===t.data.show_bv;m()!==e&&("object"===("undefined"==typeof window?"undefined":y(window))&&(window.__BILI_CONFIG__||(window.__BILI_CONFIG__={show_bv:e}),window.__BILI_CONFIG__.show_bv=e,localStorage.setItem("bili_config_show_bv",e)),u.$emit("ShowBvConfigUpdated"))}))},h=function(){var t=!1;return"object"!==("undefined"==typeof window?"undefined":y(window))||(window.__BILI_CONFIG__&&void 0!==window.__BILI_CONFIG__.show_bv?(t=window.__BILI_CONFIG__.show_bv,localStorage.setItem("bili_config_show_bv",t)):t="true"===localStorage.getItem("bili_config_show_bv")),t},b=!0,m=function(){return"undefined"!=typeof window&&(b?(b=!1,t=h(),v()):t=h(),t);var t},g=function(t,e){return m()&&e?"//www.bilibili.com/video/".concat(e):"//www.bilibili.com/video/av".concat(t)};n(0),n(44),n(31),n(24)},116:function(t,e,n){t.exports=n.p+"static/img/auth.fb6a43d9.png"},158:function(t,e){},161:function(t,e,n){"use strict";(function(t){n(117),n(25),n(58),n(7),n(2),n(9),n(30),n(31),n(24),n(41),n(18),n(32),n(59),n(60);var o=n(75),r=n(54);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u="undefined"==typeof window?t:window,s={},l={};function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return'<img src="'.concat(e.replace(/^http:\/\//,"//"),'" alt="').concat(t,'" style="margin: -1px 1px 0 1px;display: inline-block; width: ').concat(n.width,"px; height: ").concat(n.height,"px; vertical-align: ").concat(n.verticalAlign||"baseline",';">')}o.a.allEmojiDataNew.map((function(t){t.purl&&""!==t.purl&&t.emojis&&t.emojis.length&&t.emojis&&t.emojis.length>0&&t.emojis.forEach((function(t){l[t.name]=t.url}))})),o.a.allEmojiDataOld.map((function(t){t.purl&&""!==t.purl&&t.emojis&&t.emojis.length&&t.emojis&&t.emojis.length>0&&t.emojis.forEach((function(t){s[t.name]=t.url}))})),e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o={};o=n||u.bp_emoji_data_v3||{},l=a(a({},l),Object(r.a)(o));var i={width:22,height:22};e=Object.assign(i,e);var c,d=new RegExp(/\[[^([.*?\])]+\]/g);return c=e.emojiType&&1===e.emojiType?l:s,t.replace(d,(function(t){return c[t]?f(t,c[t].url,e):l[t]?f(t,l[t].url,e):t}))}}).call(this,n(76))},162:function(t,e,n){"use strict";(function(t){n(25),n(3),n(13),n(5),n(0),"undefined"==typeof window||window}).call(this,n(76))},163:function(t,e,n){},164:function(t,e,n){},165:function(t,e,n){},167:function(t,e,n){},168:function(t,e,n){},169:function(t,e,n){},170:function(t,e,n){},171:function(t,e,n){},172:function(t,e,n){},173:function(t,e,n){},174:function(t,e,n){},239:function(t,e,n){"use strict";n(163)},240:function(t,e,n){"use strict";n(164)},241:function(t,e,n){"use strict";n(165)},244:function(t,e,n){"use strict";n(167)},245:function(t,e,n){"use strict";n(168)},246:function(t,e,n){"use strict";n(169)},247:function(t,e,n){"use strict";n(170)},251:function(t,e,n){"use strict";n(171)},252:function(t,e,n){"use strict";n(172)},253:function(t,e,n){"use strict";n(173)},254:function(t,e,n){"use strict";n(174)},255:function(t,e,n){},263:function(t,e,n){"use strict";n.r(e);n(7);var o=n(14),r=n.n(o),i=n(5);n(30),n(25),n(41),n(3),n(13),n(51),n(2),n(44),n(24),n(18),n(20),n(21),n(19),n(22),n(23);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c={pv:{},click:{},default:{}};function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(c).forEach((function(e){c[e]=Object.assign({},t[e])}))}function s(t){!function t(e,n,o){var r=function(t){return!!t&&(t instanceof Promise?"promise":"function"==typeof t?"function":"string"==typeof t?"string":"[object Object]"===String(t)?"object":void 0)}(n);if(!r)return;if("object"===r){var i=Object.assign({},c.default,c[e],{e:o},n);return void function(t,e){var n={logId:e.logId,sendStatus:e.sendStatus||"double",spmId:e.spmId,sendUrl:e.sendUrl};if(void 0!==e.data&&null!==e.data&&"{}"!==JSON.stringify(e.data)&&(n.msg={value:e.data,_rdm:Math.random().toString().split(".")[1].slice(0,5)}),e.event){var o=e.spmId+".selfDef."+e.event;n.spm_id=o,"object"===a(n.msg)?n.msg.event=e.event:n.msg={event:e.event,_rdm:Math.random().toString().split(".")[1].slice(0,5)}}"click"===t?window.__bp_statisObserver.sendClickEvent(n,e.e):"pv"===t&&window.__bp_statisObserver.sendPV(n)}(e,i)}if("string"===r){var u={};return u.event=n,void t(e,u,o)}if("function"===r){var s=n();return void t(e,s,o)}if("promise"===r)return void n.then((function(n){t(e,n,o)}))}(t.type,t.data,t.e)}var l=[];function f(){if(Object.assign)return!!(window.__bp_statisObserver&&window.__bp_statisObserver.sendClickEvent&&window.__bp_statisObserver.sendPV);console.error("No Object.assign. component.statistics needs Object.assign polyfill.")}function d(){f()&&l.forEach((function(){s(l.shift())}))}function p(t){l.push(t),setTimeout((function(){d()}),1e3)}function y(t){if(void 0===window.__bp_statisObserver){window.__bp_statisObserverConfig=Object.assign({loadPV:!0,loadEvent:!0,loadPerform:!1,loadSpecial:!1,loadBaidu:!1},window.__bp_statisObserverConfig);var e=document.createElement("script");e.onload=function(){d(),t&&t()},e.src="//s1.hdslb.com/bfs/seed/bplus-common/statistics-js/log-reporter.js",document.getElementsByTagName("body")[0].appendChild(e)}else t&&t()}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=Object.assign({},{data:t},{type:"click"},{e:e});if(!f())return p(n),void y();s(n)}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},{data:t},{type:"pv"});if(!f())return p(e),void y();s(e)}var b={click:v,event:v,pv:h,setDefault:u},m={install:function(t,e){u(e),t.prototype.$bpreport=b,t.directive("bpreport",{bind:function(t,e){"click"===e.arg&&t.addEventListener("click",(function(t){v(e.value,t)}))},inserted:function(t,e){"pv"===e.arg&&h(e.value)}})}},g=(n(9),n(58),n(39),n(48),n(40),n(11)),w=n.n(g),_=n(6),O=n(1),j=n(10),k=n(4),S=(n(32),n(233),n(31),n(73),new r.a({}),function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return e}),C=(n(47),n(0));n(54);n(27),n(235),n(238);var P=0;++P,++P,++P,++P,++P,++P,++P,++P,++P,++P,++P,++P,++P,n(74);var x={get:k.a.getItem,set:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365;return k.a.setItem(t,e,new Date((new Date).getTime()+864e5*n),"/",".bilibili.com","")}};function I(t){var e=new Date,n=S(e,"yyyy-MM-dd"),o=e.getTime(),r=1e3*t,i=new Date(r),a=o-r,c=Math.floor(a/6e4),u=Math.floor(c/60),s=new Date(n+" 00:00:00").getTime()-864e5,l=new Date(S(e,"yyyy")+"-01-01").getTime();return u<1&&c<=1?E("justAMoment"):u<1&&c>1&&c<60?"".concat(c," ").concat(E("minutesAgo")):u>=1&&u<24?"".concat(u," ").concat(E("hoursAgo")):r>=s?"".concat(E("yesterday")," ").concat(S(i,"hh:mm")):S(i,r>=l?"MM-dd":"yyyy-MM-dd")}var T={"zh-CN":{dynamic:"动态",networkError:"(´・ω・｀)网络错误，请点击这里重新尝试",noMore:"暂时没有新动态了哦！",history:"历史动态",FN_unfold:function(t){return"展开".concat(t,"条相关动态")},video:"视频",live:"直播",article:"专栏",living:"正在直播",getAll:"查看全部",justAMoment:"刚刚",minutesAgo:"分钟前",hoursAgo:"小时前",yesterday:"昨天",remove:"移除",seeLater:"稍后再看",added:"已加稍后再看",removed:"已移除"},"zh-TW":{dynamic:"動態",networkError:"(´・ω・｀)網絡錯誤，請點擊這裡重新嘗試",noMore:"暫時沒有新動態了哦！",history:"歷史動態",FN_unfold:function(t){return"展開".concat(t,"條相關動態")},video:"視頻",live:"直播",article:"專欄",living:"正在直播",getAll:"查看全部",justAMoment:"剛剛",minutesAgo:"分鐘前",hoursAgo:"小時前",yesterday:"昨天",remove:"移除",seeLater:"稍後再看",added:"已加稍後再看",removed:"已移除"}};function E(t){return(e=x.get("LNG")||"zh-CN",T[e]||{})[t]||t;var e}function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=L(t);if(e){var r=L(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return $(this,n)}}function $(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(i,t);var e,n,o,r=N(i);function i(){var t;return R(this,i),(t=r.apply(this,arguments)).currentTabIndex=0,t.currentTabName=t.tabList[0],t.getI18n=E,t}return e=i,(n=[{key:"beforeCreate",value:function(){}},{key:"created",value:function(){}},{key:"beforeMount",value:function(){}},{key:"mounted",value:function(){this.onTabItemClick(this.tabList[0],0)}},{key:"beforeDestroy",value:function(){}},{key:"destroyed",value:function(){}},{key:"isActive",value:function(t){return t===this.currentTabIndex}},{key:"onTabItemClick",value:function(t,e){this.currentTabName=t,this.currentTabIndex=e,this.$emit("change",{name:t,index:e})}}])&&A(e.prototype,n),o&&A(e,o),i}(O.c);Object(_.a)([Object(O.b)(Array)],U.prototype,"tabList",void 0);var B=U=Object(_.a)([Object(O.a)({name:"tab-bar",components:{}})],U),F=(n(239),n(8)),q=Object(F.a)(B,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-bar"},t._l(t.tabList,(function(e,o){return n("div",{key:o,staticClass:"tab-item",class:{active:t.isActive(o)},on:{click:function(n){return t.onTabItemClick(e,o)}}},[t._v(t._s(e)+t._s(t.isActive(o)?t.getI18n("dynamic"):"")+"\n  ")])})),0)}),[],!1,null,"c0793b8a",null).exports,J=n(55),H=n.n(J),V=function(t){var e=""+document.cookie,n=e.indexOf(t+"=");if(-1==n||""==t)return"";var o=e.indexOf(";",n);return-1==o&&(o=e.length),unescape(e.substring(n+t.length+1,o))};function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e,n,o,r,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(o,r)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Z(t);if(e){var r=Z(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Q(this,n)}}function Q(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(s,t);var e,o,r,a,c,u=X(s);function s(){var t;return z(this,s),(t=u.apply(this,arguments)).tabList=[E("video"),E("live"),E("article")],t.myUid=0,t.loaded=!1,t.newCount=0,t.newVideoCount=0,t.newArticleCount=0,t.isForNewHome=!1,t}return e=s,(o=[{key:"beforeCreate",value:function(){}},{key:"created",value:(a=w.a.mark((function t(){var e=this;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.a.get().then((function(t){var n;e.myUid=(null==t||null===(n=t.data)||void 0===n?void 0:n.mid)||0}));case 2:this.getUnreadData(),this.loaded=!0,"2021"===this.$route.query.type&&(this.isForNewHome=!0);case 5:case"end":return t.stop()}}),t,this)})),c=function(){var t=this,e=arguments;return new Promise((function(n,o){var r=a.apply(t,e);function i(t){G(r,n,o,i,c,"next",t)}function c(t){G(r,n,o,i,c,"throw",t)}i(void 0)}))},function(){return c.apply(this,arguments)})},{key:"beforeMount",value:function(){var t=this.$route.query.theme;t&&"dark"===t&&n.e(5).then(n.t.bind(null,265,7))}},{key:"mounted",value:function(){}},{key:"beforeDestroy",value:function(){}},{key:"destroyed",value:function(){}},{key:"onTabChange",value:function(t){var e=t.index;switch(this.updateNewCount(),e){case 0:this.$router.replace({path:"/video",query:this.$route.query}),this.$bpreport.click({event:"dynamic_tab_int",data:"video"});break;case 1:this.$router.replace({path:"/live",query:this.$route.query}),this.$bpreport.click({event:"dynamic_tab_int",data:"live"});break;case 2:this.$router.replace({path:"/article",query:this.$route.query}),this.$bpreport.click({event:"dynamic_tab_int",data:"zhuanlan"})}}},{key:"updateNewCount",value:function(){switch(this.$route.name){case"video":this.newCount=this.newVideoCount;break;case"article":this.newCount=this.newArticleCount;break;default:this.newCount=0}}},{key:"onScroll",value:function(t){j.b.$emit("frame-scroll",t)}},{key:"getUnreadData",value:function(){var t=this,e=V("bp_t_offset_"+this.myUid)||0;(function(t){var e=t.videoOffset,n=void 0===e?0:e,o=t.articleOffset,r=void 0===o?0:o,a=t.allTypeOffset,c=void 0===a?0:a;return Object(i.a)({url:"".concat(C.a.API_VC,"/dynamic_svr/v1/dynamic_svr/web_homepage"),method:"get",data:{from:"header",video_offset:n,article_offset:r,alltype_offset:c}})})({videoOffset:V("bp_video_offset_"+this.myUid)||0,articleOffset:V("bp_article_offset_"+this.myUid)||0,allTypeOffset:e}).then((function(e){t.newVideoCount=e.data.video_num,t.newArticleCount=e.data.article_num,t.updateNewCount()})).catch((function(){t.updateNewCount()}))}}])&&W(e.prototype,o),r&&W(e,r),s}(O.c),et=tt=Object(_.a)([Object(O.a)({name:"app",components:{TabBar:q}})],tt),nt=(n(240),n(241),Object(F.a)(et,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"out-container",class:{"new-container":t.isForNewHome}},[n("tab-bar",{attrs:{"tab-list":t.tabList},on:{change:t.onTabChange}}),t.loaded?n("div",{staticClass:"container",on:{scroll:function(e){return t.onScroll(e)}}},[n("router-view",{attrs:{"my-uid":t.myUid,"new-count":t.newCount}})],1):t._e()],1)])}),[],!1,null,"9f78c900",null).exports),ot=n(118);n(50),n(59),n(60),n(166);function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function at(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ct(t,e){return(ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=lt(t);if(e){var r=lt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return st(this,n)}}function st(t,e){return!e||"object"!==rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}(i,t);var e,n,o,r=ut(i);function i(){return it(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"avatarStyle",get:function(){var t=this.avatarUrl.replace(/^https?:/,""),e=Object(j.a)(t,36,36,{c:1});return"background-image: url(".concat(e,");")}},{key:"userJumpUrl",get:function(){return"//space.bilibili.com/".concat(this.uid,"/dynamic")}},{key:"beforeCreate",value:function(){}},{key:"created",value:function(){}},{key:"beforeMount",value:function(){}},{key:"mounted",value:function(){}},{key:"beforeDestroy",value:function(){}},{key:"destroyed",value:function(){}},{key:"onClick",value:function(){this.$emit("click")}},{key:"afterClick",value:function(t){this.$emit("afterClick",t)}}])&&at(e.prototype,n),o&&at(e,o),i}(O.c);Object(_.a)([Object(O.b)({default:"",type:String})],ft.prototype,"avatarUrl",void 0),Object(_.a)([Object(O.b)(String)],ft.prototype,"userName",void 0),Object(_.a)([Object(O.b)([String,Number])],ft.prototype,"uid",void 0),Object(_.a)([Object(O.b)(String)],ft.prototype,"content",void 0),Object(_.a)([Object(O.b)(String)],ft.prototype,"title",void 0),Object(_.a)([Object(O.b)(Number)],ft.prototype,"verifyType",void 0),Object(_.a)([Object(O.b)([Boolean,Number])],ft.prototype,"isBig",void 0),Object(_.a)([Object(O.b)(String)],ft.prototype,"url",void 0);var dt=ft=Object(_.a)([Object(O.a)({name:"list-item",components:{}})],ft),pt=(n(244),Object(F.a)(dt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-item",attrs:{title:t.title},on:{click:t.onClick}},[n("div",{staticClass:"main-container"},[n("div",{staticClass:"left-box"},[t.uid?t._e():n("div",{staticClass:"avatar",style:t.avatarStyle}),t.uid?n("a",{staticClass:"avatar",style:t.avatarStyle,attrs:{href:t.userJumpUrl,target:"_blank",title:t.userName},on:{click:function(e){return e.stopPropagation(),t.afterClick("user")}}}):t._e(),t.verifyType>-1||t.isBig?n("div",{staticClass:"verify-box",class:"type-"+t.verifyType+" type-"+(t.isBig?"big":"")}):t._e()]),n("div",{staticClass:"center-box"},[n("div",{staticClass:"name-line"},[t.uid?t._e():n("span",{staticClass:"user-name"},[t._v(t._s(t.userName)+"\n      ")]),t.uid?n("a",{staticClass:"user-name",attrs:{href:t.userJumpUrl,title:t.userName,target:"_blank"},on:{click:function(e){return e.stopPropagation(),t.afterClick("user")}}},[t._v(t._s(t.userName))]):t._e(),t._t("time-slot")],2),t.url?n("a",{staticClass:"content",attrs:{href:t.url,title:t.content,target:"_blank"},on:{click:function(e){return e.stopPropagation(),t.afterClick("content")}}},[t._v(t._s(t.content))]):t._e(),t.url?t._e():n("p",{staticClass:"content"},[t._v(t._s(t.content))])]),t.url?t._e():n("div",{staticClass:"right-box"},[t._t("img-slot")],2),t.url?n("a",{staticClass:"right-box",attrs:{href:t.url,target:"_blank"},on:{click:function(e){return e.stopPropagation(),t.afterClick("image")}}},[t._t("img-slot")],2):t._e()]),t._t("fold-slot")],2)}),[],!1,null,"3e08f764",null).exports);function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=wt(t);if(e){var r=wt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return gt(this,n)}}function gt(t,e){return!e||"object"!==yt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(i,t);var e,n,o,r=mt(i);function i(){var t;return vt(this,i),(t=r.apply(this,arguments)).added=!1,t.watchLaterTip="",t.triggerUpdate=!1,t}return e=i,(n=[{key:"isBangumi",get:function(){return 1===this.videoData.type}},{key:"avatarUrl",get:function(){return this.isBangumi?this.videoData.bangumi.apiSeasonInfo.cover:this.videoData.desc.user_profile.info.face}},{key:"userName",get:function(){return this.isBangumi?this.videoData.bangumi.apiSeasonInfo.title:this.videoData.desc.user_profile.info.uname}},{key:"content",get:function(){return this.isBangumi?this.videoData.bangumi.new_desc:this.videoData.archive.title}},{key:"uid",get:function(){return this.isBangumi?0:this.videoData.desc.user_profile.info.uid}},{key:"aid",get:function(){return this.isBangumi?0:this.videoData.archive.aid}},{key:"jumpTitle",get:function(){if(this.triggerUpdate)return"";var t="";return t=this.isBangumi?this.videoData.bangumi.url:Object(j.d)(this.videoData.archive.aid,this.videoData.desc.bvid),"".concat(t,"?spm_id_from=").concat(this.$pageSpmid,".dynamic.content.click")}},{key:"jumpUrl",get:function(){if(this.triggerUpdate)return"";var t="";return t=this.isBangumi?this.videoData.bangumi.url:Object(j.d)(this.videoData.archive.aid,this.videoData.desc.bvid),"".concat(t,"?spm_id_from=").concat(this.$pageSpmid,".dynamic.content.click")}},{key:"timeString",get:function(){return I(this.videoData.desc.timestamp)}},{key:"cover",get:function(){return this.isBangumi?this.videoData.bangumi.cover:this.videoData.archive.pic}},{key:"coverStyle",get:function(){var t=this.cover.replace(/^https?:/,""),e=Object(j.a)(t,64,36,{c:1});return"background-image: url(".concat(e,");")}},{key:"foldText",get:function(){var t="";return this.foldType&&(t=E("FN_unfold")(this.videoData.allIds.length-1)),t}},{key:"verifyType",get:function(){return this.isBangumi?0:this.videoData.desc.user_profile.card.official_verify.type}},{key:"isBig",get:function(){return!this.isBangumi&&this.videoData.desc.user_profile.vip.vipType>0&&1===this.videoData.desc.user_profile.vip.vipStatus}},{key:"foldType",get:function(){return this.videoData.foldType}},{key:"beforeCreate",value:function(){}},{key:"created",value:function(){this.foldType&&this.$bpreport.click({event:"fold_show",data:this.foldType})}},{key:"beforeMount",value:function(){}},{key:"mounted",value:function(){var t=this;j.b.$on("ShowBvConfigUpdated",(function(){t.triggerUpdate=!0,t.$nextTick((function(){t.triggerUpdate=!1}))}))}},{key:"beforeDestroy",value:function(){}},{key:"destroyed",value:function(){}},{key:"onJump",value:function(){window.open(this.jumpUrl),this.afterClick()}},{key:"afterClick",value:function(t){this.$tracker.click("dynamic.content.click",{avid:this.aid,type:0}),"user"===t?this.$bpreport.click({event:"dynamic_item_int_user",data:"video"}):this.$bpreport.click({event:"dynamic_item_int",data:"video"})}},{key:"onUnfold",value:function(){this.$emit("unfold",{index:this.idx,ids:this.videoData.allIds||[]}),this.$bpreport.click({event:"fold_click",data:this.foldType})}},{key:"onMouseOver",value:function(){this.added?this.watchLaterTip=E("remove"):this.watchLaterTip=E("seeLater")}},{key:"onMouseOut",value:function(){this.watchLaterTip=""}},{key:"onWatchLaterClick",value:function(){var t=this;this.bpapi({method:"post",url:this.added?"//api.bilibili.com/x/v2/history/toview/del":"//api.bilibili.com/x/v2/history/toview/add",data:{jsonp:"jsonp",aid:this.aid}}).then((function(){t.added=!t.added,t.added?t.watchLaterTip=E("added"):t.watchLaterTip=E("removed")})),this.$bpreport.click({event:"watch_later_add_int",value:"watch_later_add_int"})}}])&&ht(e.prototype,n),o&&ht(e,o),i}(O.c);Object(_.a)([Object(O.b)(Object)],_t.prototype,"videoData",void 0),Object(_.a)([Object(O.b)(Object)],_t.prototype,"foldItems",void 0),Object(_.a)([Object(O.b)(Number)],_t.prototype,"idx",void 0);var Ot=_t=Object(_.a)([Object(O.a)({name:"video-item",components:{ListItem:pt}})],_t),jt=(n(245),Object(F.a)(Ot,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.triggerUpdate?t._e():n("list-item",{attrs:{"avatar-url":t.avatarUrl,uid:t.uid,"user-name":t.userName,content:t.content,title:t.content,"is-big":t.isBig,"verify-type":t.verifyType,url:t.jumpUrl},on:{afterClick:t.afterClick,click:t.onJump}},[n("span",{staticClass:"publish-time",attrs:{slot:"time-slot"},slot:"time-slot"},[t._v(t._s(t.timeString)+"\n  ")]),n("div",{staticClass:"cover",style:t.coverStyle,attrs:{slot:"img-slot"},slot:"img-slot"},[t.isBangumi?t._e():n("div",{staticClass:"watch-later",class:{added:t.added},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onWatchLaterClick(e)},mouseover:t.onMouseOver,mouseout:t.onMouseOut}},[n("div",{staticClass:"watch-later-tip"},[t._v(t._s(t.watchLaterTip))])])]),t.foldText?n("div",{staticClass:"fold-box",attrs:{slot:"fold-slot",title:t.foldText},on:{click:function(e){return e.stopPropagation(),t.onUnfold(e)}},slot:"fold-slot"},[n("span",[t._v(t._s(t.foldText))]),n("span",{staticClass:"fold-arrow"})]):t._e()])}),[],!1,null,"0dc56910",null).exports);function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Tt(t);if(e){var r=Tt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return It(this,n)}}function It(t,e){return!e||"object"!==kt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(i,t);var e,n,o,r=xt(i);function i(){var t;return St(this,i),(t=r.apply(this,arguments)).getI18n=E,t}return e=i,(n=[{key:"beforeCreate",value:function(){}},{key:"created",value:function(){}},{key:"beforeMount",value:function(){}},{key:"mounted",value:function(){}},{key:"beforeDestroy",value:function(){}},{key:"destroyed",value:function(){}},{key:"onClick",value:function(){this.$emit("click")}}])&&Ct(e.prototype,n),o&&Ct(e,o),i}(O.c),Dt=Et=Object(_.a)([Object(O.a)({name:"more-btn",components:{}})],Et),Rt=(n(246),Object(F.a)(Dt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"more-tab",on:{click:this.onClick}},[e("button",{staticClass:"more-btn"},[this._v(this._s(this.getI18n("getAll"))+"\n  ")])])}),[],!1,null,"0de37f37",null).exports);function At(t){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t){return function(t){if(Array.isArray(t))return Nt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Nt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function $t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=qt(t);if(e){var r=qt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ft(this,n)}}function Ft(t,e){return!e||"object"!==At(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(n),!0).forEach((function(e){Vt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Kt=[8,512,4097,4098,4099,4100,4101],Gt={},zt={},Wt={},Yt=!1;function Xt(t){var e=[];return t.forEach((function(t){var n=t.desc,o=JSON.parse(t.card),r={};8===t.desc.type?(r={type:0,archive:o,desc:n,allIds:t.allIds,foldType:t.foldType},t.desc.user_profile&&t.desc.user_profile.card&&(r.official_verify=t.desc.user_profile.card.official_verify),e.push(r)):(r={type:1,bangumi:o,desc:n,allIds:t.allIds,foldType:t.foldType},t.desc.user_profile&&t.desc.user_profile.card&&(r.official_verify=t.desc.user_profile.card.official_verify),e.push(r))})),e}var Qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(i,t);var e,n,o,r=Bt(i);function i(){var t;return $t(this,i),(t=r.apply(this,arguments)).tooOpten=!1,t.loading=!0,t.error=!1,t.finish=!1,t.loadingMore=!1,t.pn=1,t.newList=[],t.historyList=[],t.list=[],t.offset="",t.foldItems=Wt,t.getI18n=E,t}return e=i,(n=[{key:"beforeCreate",value:function(){}},{key:"created",value:function(){this.loadVideoDataNew()}},{key:"beforeMount",value:function(){}},{key:"mounted",value:function(){j.b.$on("frame-scroll",this.onScroll)}},{key:"beforeDestroy",value:function(){j.b.$off("frame-scroll",this.onScroll)}},{key:"destroyed",value:function(){}},{key:"onScroll",value:function(t){if(!(this.loadingMore||this.list.length>=50)){var e=t.target;e.scrollTop>e.scrollHeight-800&&(this.loadingMore=!0,this.pn+=1,this.loadVideoDataHistory())}}},{key:"loadVideoDataNew",value:function(){var t=this;this.bpapi({url:"//api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/dynamic_new",data:{uid:this.myUid,type_list:Kt.join(",")},method:"get",ttl:6e4,cache_key:String(this.myUid)}).then((function(e){t.apiHandler(e,!0)}),(function(e){500001===e.code&&(t.tooOpten=!0)}))}},{key:"loadVideoDataHistory",value:function(){var t=this;this.bpapi({url:"//api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/dynamic_history",data:{uid:this.myUid,type_list:Kt.join(","),offset_dynamic_id:this.offset},method:"get",ttl:6e5,cache_key:String(this.myUid),localCache:!0}).then((function(e){t.apiHandler(e,!1)}),(function(e){500001===e.code&&(t.tooOpten=!0)}))}},{key:"apiHandler",value:function(t,e){if(this.loading=!1,this.tooOpten=!1,0!==t.code&&(this.error=!0),t.data&&t.data.cards&&t.data.cards.length){var n=function(t){var e=t.fold_mgr,n=t.cards||[],o=[];if(e&&e.length>0){Yt=!0;var r=1;e.forEach((function(t){r=t.fold_type,t.folds.forEach((function(t){var e=t.dynamic_ids||[],n=e[0];Gt[n]={allIds:e,type:r},e.forEach((function(t){zt[t]=n}))}))})),n.forEach((function(t){var e=t.desc.dynamic_id||"0";e in Gt?(o.push(Ht(Ht({},t),{},{allIds:Gt[e].allIds,foldType:Gt[e].type})),Wt[e]=t):e in zt?Wt[e]=t:o.push(t)}))}else o=n;return o}(t.data),o=this.myUid;if(this.loadingMore=!1,this.list=this.list.concat(Xt(n)),this.offset=t.data.history_offset||t.data.next_offset,e){var r=t.data.max_dynamic_id;x.set("bp_video_offset_"+o,r,30)}void 0===this.firstTime||!0===this.firstTime||Yt?(this.newList=this.list.slice(0,50),this.historyList=[]):(this.newList=this.list.slice(0,50).slice(0,this.newCount||0).slice(0,50),this.historyList=this.list.slice(this.newCount||0).slice(0,50-this.newList.length))}else this.finish=!0}},{key:"onUnfold",value:function(t){var e,n=t.index,o=t.ids;if(o.length){var r=[];o.forEach((function(t){r.push(Wt[t])})),(e=this.list).splice.apply(e,[n,1].concat(Mt(Xt(r)))),this.newList=this.list.slice(0,50),this.historyList=[]}}},{key:"onMoreClick",value:function(){window.open("//t.bilibili.com"),this.$bpreport.click({event:"dynamic_more_int",data:"video"})}}])&&Lt(e.prototype,n),o&&Lt(e,o),i}(O.c);Object(_.a)([Object(O.b)([Number,String])],Qt.prototype,"myUid",void 0),Object(_.a)([Object(O.b)(Number)],Qt.prototype,"newCount",void 0),Object(_.a)([Object(O.b)(Boolean)],Qt.prototype,"firstTime",void 0);var Zt=Qt=Object(_.a)([Object(O.a)({name:"video-tab",components:{VideoItem:jt,MoreTab:Rt}})],Qt),te=(n(247),Object(F.a)(Zt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video-tab"},[n("div",{staticClass:"video-list"},[!t.loading||t.error||t.tooOpten?t._e():n("div",{staticClass:"tip-box loading-tip"},[t._v("loading...\n    ")]),t.error||t.tooOpten?n("div",{staticClass:"tip-box error-tip",on:{click:function(e){t.loading=!0,t.loadVideoDataNew()}}},[t._v("\n      "+t._s(t.getI18n("networkError"))+"\n    ")]):t._e(),t.loading||t.error||0!==t.newList.length?t._e():n("div",{staticClass:"tip-box no-more-tip"},[t._v("\n      "+t._s(t.getI18n("noMore"))+"\n    ")]),t._l(t.newList,(function(e,o){return n("video-item",{key:e.desc.dynamic_id,attrs:{"fold-items":t.foldItems,idx:o,"video-data":e},on:{unfold:t.onUnfold}})})),!t.loading&&t.historyList.length>0?n("div",{staticClass:"split-line"},[n("div",{staticClass:"history-tip"},[t._v("\n        "+t._s(t.getI18n("history"))+"\n      ")])]):t._e(),t._l(t.historyList,(function(e,o){return n("video-item",{key:e.desc.dynamic_id,attrs:{"fold-items":t.foldItems,idx:o,"video-data":e},on:{unfold:t.onUnfold}})})),n("more-tab",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&!t.loadingMore||t.finish,expression:"!loading && !loadingMore || finish"}],on:{click:t.onMoreClick}})],2)])}),[],!1,null,"213951fc",null).exports);n(248);function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ce(t);if(e){var r=ce(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ae(this,n)}}function ae(t,e){return!e||"object"!==ee(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(i,t);var e,n,o,r=ie(i);function i(){var t;return ne(this,i),(t=r.apply(this,arguments)).getI18n=E,t}return e=i,(n=[{key:"avatarUrl",get:function(){return this.liveData.face}},{key:"userName",get:function(){return this.liveData.uname}},{key:"content",get:function(){return this.liveData.title}},{key:"uid",get:function(){return 0}},{key:"jumpTitle",get:function(){return this.jumpUrl}},{key:"jumpUrl",get:function(){return this.liveData.link}},{key:"cover",get:function(){return this.liveData.pic||this.liveData.cover}},{key:"coverStyle",get:function(){var t=this.cover.replace(/^https?:/,""),e=Object(j.a)(t,64,48,{c:1});return"background-image: url(".concat(e,");")}},{key:"beforeCreate",value:function(){}},{key:"created",value:function(){}},{key:"beforeMount",value:function(){}},{key:"mounted",value:function(){}},{key:"beforeDestroy",value:function(){}},{key:"destroyed",value:function(){}},{key:"onJump",value:function(){window.open(this.jumpUrl),this.afterClick()}},{key:"afterClick",value:function(t){this.$tracker.click("dynamic.content.click",{type:1}),"user"===t?this.$bpreport.click({event:"dynamic_item_int_user",data:"live"}):this.$bpreport.click({event:"dynamic_item_int",data:"live"})}}])&&oe(e.prototype,n),o&&oe(e,o),i}(O.c);Object(_.a)([Object(O.b)(Object)],ue.prototype,"liveData",void 0);var se=ue=Object(_.a)([Object(O.a)({name:"live-item",components:{ListItem:pt}})],ue),le=(n(251),Object(F.a)(se,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("list-item",{attrs:{"avatar-url":t.avatarUrl,uid:t.uid,"user-name":t.userName,content:t.content,title:t.jumpTitle,url:t.jumpUrl},on:{afterClick:t.afterClick,click:t.onJump}},[n("span",{staticClass:"publish-time",attrs:{slot:"time-slot"},slot:"time-slot"},[t._v(t._s(t.getI18n("living"))+"\n  ")]),n("div",{staticClass:"cover",style:t.coverStyle,attrs:{slot:"img-slot"},slot:"img-slot"})])}),[],!1,null,"3ab717cc",null).exports);function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function de(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ye(t,e){return(ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ve(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=be(t);if(e){var r=be(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return he(this,n)}}function he(t,e){return!e||"object"!==fe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function be(t){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ye(t,e)}(i,t);var e,n,o,r=ve(i);function i(){var t;return de(this,i),(t=r.apply(this,arguments)).loading=!0,t.error=!1,t.finish=!1,t.loadingMore=!1,t.pn=1,t.list=[],t.getI18n=E,t}return e=i,(n=[{key:"beforeCreate",value:function(){}},{key:"created",value:function(){this.loadLiveData()}},{key:"beforeMount",value:function(){}},{key:"mounted",value:function(){j.b.$on("frame-scroll",this.onScroll)}},{key:"beforeDestroy",value:function(){j.b.$off("frame-scroll",this.onScroll)}},{key:"destroyed",value:function(){}},{key:"onScroll",value:function(t){if(!(this.loadingMore||this.list.length>=50)){var e=t.target;e.scrollTop>e.scrollHeight-800&&(this.loadingMore=!0,this.pn+=1,this.loadLiveData())}}},{key:"loadLiveData",value:function(){var t=this;this.bpapi({url:"//api.live.bilibili.com/xlive/web-ucenter/v1/xfetter/FeedList",data:{page:this.pn,pagesize:10},method:"get"}).then((function(e){t.loading=!1,t.error=!1,0!==e.code&&(t.error=!0),e.data&&e.data.list&&e.data.list.length?(t.loadingMore=!1,t.list=t.list.concat(e.data.list)):t.finish=!0}))}},{key:"onMoreClick",value:function(){window.open("//link.bilibili.com/p/center/index#/user-center/follow/1"),this.$bpreport.click({event:"dynamic_more_int",data:"live"})}}])&&pe(e.prototype,n),o&&pe(e,o),i}(O.c),ge=me=Object(_.a)([Object(O.a)({name:"live-tab",components:{MoreTab:Rt,LiveItem:le}})],me),we=(n(252),Object(F.a)(ge,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"live-tab"},[n("div",{staticClass:"live-list"},[t.loading&&!t.error?n("div",{staticClass:"tip-box loading-tip"},[t._v("loading...\n    ")]):t._e(),t.error?n("div",{staticClass:"tip-box error-tip",on:{click:function(e){t.loading=!0,t.loadLiveData()}}},[t._v("\n      "+t._s(t.getI18n("networkError"))+"\n    ")]):t._e(),t.loading||t.error||0!==t.list.length?t._e():n("div",{staticClass:"tip-box no-more-tip"},[t._v("\n      "+t._s(t.getI18n("noMore"))+"\n    ")]),t._l(t.list,(function(t){return n("live-item",{key:t.roomid,attrs:{"live-data":t}})})),n("more-tab",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&!t.loadingMore||t.finish,expression:"!loading && !loadingMore || finish"}],on:{click:t.onMoreClick}})],2)])}),[],!1,null,"0517f9be",null).exports);function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function je(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ke(t,e){return(ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Pe(t);if(e){var r=Pe(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ce(this,n)}}function Ce(t,e){return!e||"object"!==_e(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pe(t){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ke(t,e)}(i,t);var e,n,o,r=Se(i);function i(){return Oe(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"avatarUrl",get:function(){return this.articleData.desc.user_profile.info.face}},{key:"userName",get:function(){return this.articleData.desc.user_profile.info.uname}},{key:"content",get:function(){return this.articleData.article.title}},{key:"uid",get:function(){return this.articleData.desc.user_profile.info.uid}},{key:"cid",get:function(){return this.articleData.article.id}},{key:"jumpTitle",get:function(){return"//www.bilibili.com/read/cv".concat(this.cid,"?spm_id_from=").concat(this.$pageSpmid,".dynamic.content.click")}},{key:"jumpUrl",get:function(){return"//www.bilibili.com/read/cv".concat(this.cid,"?spm_id_from=").concat(this.$pageSpmid,".dynamic.content.click")}},{key:"timeString",get:function(){return I(this.articleData.desc.timestamp)}},{key:"cover",get:function(){return this.articleData.article.origin_image_urls[0]}},{key:"coverStyle",get:function(){var t=this.cover.replace(/^https?:/,""),e=Object(j.a)(t,64,48,{c:1});return"background-image: url(".concat(e,");")}},{key:"foldText",get:function(){var t="";return this.foldType&&(t=E("FN_unfold")(this.articleData.allIds.length-1)),t}},{key:"verifyType",get:function(){return this.articleData.desc.user_profile.card.official_verify.type}},{key:"isBig",get:function(){return this.articleData.desc.user_profile.vip.vipType>0&&1===this.articleData.desc.user_profile.vip.vipStatus}},{key:"foldType",get:function(){return this.articleData.foldType}},{key:"beforeCreate",value:function(){}},{key:"created",value:function(){this.foldType&&this.$bpreport.click({event:"fold_show",data:this.foldType})}},{key:"beforeMount",value:function(){}},{key:"mounted",value:function(){}},{key:"beforeDestroy",value:function(){}},{key:"destroyed",value:function(){}},{key:"onJump",value:function(){window.open(this.jumpUrl),this.afterClick()}},{key:"afterClick",value:function(t){this.$tracker.click("dynamic.content.click",{type:2}),"user"===t?this.$bpreport.click({event:"dynamic_item_int_user",data:"zhuanlan"}):this.$bpreport.click({event:"dynamic_item_int",data:"zhuanlan"})}},{key:"onUnfold",value:function(){this.$emit("unfold",{index:this.idx,ids:this.articleData.allIds||[]}),this.$bpreport.click({event:"fold_click",data:this.foldType})}}])&&je(e.prototype,n),o&&je(e,o),i}(O.c);Object(_.a)([Object(O.b)(Object)],xe.prototype,"articleData",void 0),Object(_.a)([Object(O.b)(Object)],xe.prototype,"foldItems",void 0),Object(_.a)([Object(O.b)(Number)],xe.prototype,"idx",void 0);var Ie=xe=Object(_.a)([Object(O.a)({name:"article-item",components:{ListItem:pt}})],xe),Te=(n(253),Object(F.a)(Ie,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("list-item",{attrs:{"avatar-url":t.avatarUrl,uid:t.uid,"user-name":t.userName,content:t.content,title:t.jumpTitle,"is-big":t.isBig,"verify-type":t.verifyType,url:t.jumpUrl},on:{afterClick:t.afterClick,click:t.onJump}},[n("span",{staticClass:"publish-time",attrs:{slot:"time-slot"},slot:"time-slot"},[t._v(t._s(t.timeString)+"\n  ")]),n("div",{staticClass:"cover",style:t.coverStyle,attrs:{slot:"img-slot"},slot:"img-slot"}),t.foldText?n("div",{staticClass:"fold-box",attrs:{slot:"fold-slot",title:t.foldText},on:{click:function(e){return e.stopPropagation(),t.onUnfold(e)}},slot:"fold-slot"},[n("span",[t._v(t._s(t.foldText))]),n("span",{staticClass:"fold-arrow"})]):t._e()])}),[],!1,null,"3e39a8b0",null).exports);function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ae(t,e){return(Ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=$e(t);if(e){var r=$e(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ne(this,n)}}function Ne(t,e){return!e||"object"!==Ee(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $e(t){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(n),!0).forEach((function(e){Be(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fe={},qe={},Je={},He=!1;var Ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ae(t,e)}(i,t);var e,n,o,r=Me(i);function i(){var t;return De(this,i),(t=r.apply(this,arguments)).tooOpten=!1,t.loading=!0,t.error=!1,t.finish=!1,t.loadingMore=!1,t.pn=1,t.newList=[],t.historyList=[],t.list=[],t.offset="",t.foldItems=Je,t.getI18n=E,t}return e=i,(n=[{key:"beforeCreate",value:function(){}},{key:"created",value:function(){this.loadArticleDataNew()}},{key:"beforeMount",value:function(){}},{key:"mounted",value:function(){j.b.$on("frame-scroll",this.onScroll)}},{key:"beforeDestroy",value:function(){j.b.$off("frame-scroll",this.onScroll)}},{key:"destroyed",value:function(){}},{key:"onScroll",value:function(t){if(!(this.loadingMore||this.list.length>=50)){var e=t.target;e.scrollTop>e.scrollHeight-800&&(this.loadingMore=!0,this.pn+=1,this.loadArticleDataHistory())}}},{key:"loadArticleDataNew",value:function(){var t=this;this.bpapi({url:"//api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/dynamic_new",data:{uid:this.myUid,type_list:"64"},method:"get",ttl:6e4,cache_key:String(this.myUid)}).then((function(e){t.apiHandler(e,!0)}),(function(e){500001===e.code&&(t.tooOpten=!0)}))}},{key:"loadArticleDataHistory",value:function(){var t=this;this.bpapi({url:"//api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/dynamic_history",data:{uid:this.myUid,type_list:"64",offset_dynamic_id:this.offset},method:"get",ttl:6e5,cache_key:String(this.myUid),localCache:!0}).then((function(e){t.apiHandler(e,!1)}),(function(e){500001===e.code&&(t.tooOpten=!0)}))}},{key:"apiHandler",value:function(t,e){var n=this;if(this.loading=!1,this.error=!1,0!==t.code&&(this.error=!0),t.data&&t.data.cards&&t.data.cards.length){var o=function(t){var e=t.fold_mgr,n=t.cards||[],o=[];if(e&&e.length>0){He=!0;var r=1;e.forEach((function(t){r=t.fold_type,t.folds.forEach((function(t){var e=t.dynamic_ids||[],n=e[0];Fe[n]={allIds:e,type:r},e.forEach((function(t){qe[t]=n}))}))})),n.forEach((function(t){var e=t.desc.dynamic_id||"0";e in Fe?(o.push(Ue(Ue({},t),{},{allIds:Fe[e].allIds,foldType:Fe[e].type})),Je[e]=t):e in qe?Je[e]=t:o.push(t)}))}else o=n;return o}(t.data),r=this.myUid;if(this.loadingMore=!1,o.forEach((function(t){var e=JSON.parse(t.card);n.list.push({article:e,desc:t.desc,allIds:t.allIds,foldType:t.foldType})})),this.offset=t.data.history_offset||t.data.next_offset,e){var i=t.data.max_dynamic_id;x.set("bp_article_offset_"+r,i,30)}void 0===this.firstTime||!0===this.firstTime||He?(this.newList=this.list.slice(0,50),this.historyList=[]):(this.newList=this.list.slice(0,50).slice(0,this.newCount||0).slice(0,50),this.historyList=this.list.slice(this.newCount||0).slice(0,50-this.newList.length))}else this.finish=!0}},{key:"onUnfold",value:function(t){var e,n=t.index,o=t.ids;if(o.length){var r=[];o.forEach((function(t){r.push(Je[t])}));var i=[];r.forEach((function(t){var e=JSON.parse(t.card);i.push({article:e,desc:t.desc,allIds:t.allIds,foldType:t.foldType})})),(e=this.list).splice.apply(e,[n,1].concat(i)),this.newList=this.list.slice(0,50),this.historyList=[]}}},{key:"onMoreClick",value:function(){window.open("//www.bilibili.com/read/home"),this.$bpreport.click({event:"dynamic_more_int",data:"zhuanlan"})}}])&&Re(e.prototype,n),o&&Re(e,o),i}(O.c);Object(_.a)([Object(O.b)([Number,String])],Ve.prototype,"myUid",void 0),Object(_.a)([Object(O.b)(Number)],Ve.prototype,"newCount",void 0),Object(_.a)([Object(O.b)(Boolean)],Ve.prototype,"firstTime",void 0);var Ke=Ve=Object(_.a)([Object(O.a)({name:"article-tab",components:{ArticleItem:Te,MoreTab:Rt}})],Ve),Ge=(n(254),Object(F.a)(Ke,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-tab"},[n("div",{staticClass:"article-list"},[!t.loading||t.error||t.tooOpten?t._e():n("div",{staticClass:"tip-box loading-tip"},[t._v("loading...\n    ")]),t.error||t.tooOpten?n("div",{staticClass:"tip-box error-tip",on:{click:function(e){t.loading=!0,t.loadArticleDataNew()}}},[t._v("\n      "+t._s(t.getI18n("networkError"))+"\n    ")]):t._e(),t.loading||t.error||0!==t.newList.length?t._e():n("div",{staticClass:"tip-box no-more-tip"},[t._v("\n      "+t._s(t.getI18n("noMore"))+"\n    ")]),t._l(t.newList,(function(e,o){return n("article-item",{key:e.desc.dynamic_id,attrs:{"fold-items":t.foldItems,idx:o,"article-data":e},on:{unfold:t.onUnfold}})})),!t.loading&&t.historyList.length>0?n("div",{staticClass:"split-line"},[n("div",{staticClass:"history-tip"},[t._v("\n        "+t._s(t.getI18n("history"))+"\n      ")])]):t._e(),t._l(t.historyList,(function(e,o){return n("article-item",{key:e.desc.dynamic_id,attrs:{"fold-items":t.foldItems,idx:o,"article-data":e},on:{unfold:t.onUnfold}})})),n("more-tab",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&!t.loadingMore||t.finish,expression:"!loading && !loadingMore || finish"}],on:{click:t.onMoreClick}})],2)])}),[],!1,null,"77141e7e",null).exports);r.a.use(ot.a);var ze=new ot.a({routes:[{path:"/video",name:"video",component:te},{path:"/live",name:"live",component:we},{path:"/article",name:"article",component:Ge}]}),We=(n(117),n(64)),Ye=n.n(We);function Xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xe(Object(n),!0).forEach((function(e){Ze(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ze(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tn={id:"000014",sort:["url","refer_url","spm_id","ts","fts","resolution","ptype"]},en={id:"000016",sort:["url","spm_id","ts","resolution","ptype"]},nn={id:"000017",sort:["url","spm_id","target_url","ts","clientX","clientY","resolution","ptype","custom"]},on=function(t){return e=function(t){return t.data.ts=Date.now().toString(),encodeURIComponent("".concat(t.id).concat(t.data.ts).concat(t.sort.map((function(e){return t.data[e]||""})).join("|")))}(t),Ye.a.get("/log/web?".concat(e),{baseURL:"//data.bilibili.com",withCredentials:!0});var e},rn={pv:function(t){on(Qe(Qe({},tn),{},{data:t}))},impression:function(t){on(Qe(Qe({},en),{},{data:t}))},click:function(t){on(Qe(Qe({},nn),{},{data:t}))},pp:function(t){on(Qe(Qe({},nn),{},{data:t}))}};n(255);r.a.config.productionTip=!1,r.a.use(i.b),r.a.use(m,{default:{sendStatus:"single",spmId:"333.795",logId:"000017"}});var an=function(){try{var t,e,n;return((null===(t=window)||void 0===t||null===(e=t.parent.document)||void 0===e||null===(n=e.querySelector)||void 0===n?void 0:n.call(e,"meta[name='spm_prefix']"))||{content:"0.0"}).content}catch(t){return""}}();r.a.prototype.$pageSpmid=an,r.a.prototype.$tracker={click:function(t,e){rn.click({url:window.parent.location.href,spm_id:"".concat(an,".").concat(t),target_url:"",ts:"",clientX:"0",clientY:"0",resolution:"".concat(window.parent.innerWidth,"*").concat(window.parent.innerHeight),ptype:"1",custom:e?JSON.stringify(e):""})}},new r.a({router:ze,render:function(t){return t(nt)}}).$mount("#app")},4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return u}));n(2),n(9),n(31),n(24),n(50),n(44);var o={getItem:function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,n,o,r,i){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+a+(r?"; domain="+r:"")+(o?"; path="+o:"")+(i?"; secure":""),!0},removeItem:function(t,e,n){return!(!t||!this.hasItem(t))&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(e?"; path="+e:""),!0)},hasItem:function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t}};n(27);var r=function(){try{if("undefined"!=typeof navigator&&/Firefox\/(\d+)/i.test(navigator.userAgent))return navigator.userAgent.match(/Firefox\/(\d+)/i)[1]>=65;var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}catch(t){return!1}}(),i="undefined"!=typeof window?window.navigator.userAgent:"",a={myBrowser:"unknown",behaviors:[function(){return!!i.match(/Maxthon\/[4]/)&&"Maxthon 4"},function(){return!!i.match(/TheWorld/)&&"TheWorld"},function(){return!!i.match(/Firefox\/\d.*/)&&"Firefox"},function(){return!(!i.match(/AppleWebKit\/\d.*.Chrome\/\d.*.Safari\/\d/)||"Google Inc."!==window.navigator.vendor||!window.chrome)&&"Chrome"},function(){return!!i.match(/Opera.\d.*.Presto\/\d/)&&"Opera Presto"},function(){return!!i.match(/OPR\/\d{2}/)&&"Opera Modern"},function(){return!!i.match(/MSIE [6-8].+/)&&"IE Legacy"},function(){return!(!i.match(/MSIE [9].+/)||"function"!=typeof window.ScriptEngine||"JScript"!==window.ScriptEngine())&&"IE 9"},function(){return!(!i.match(/MSIE [10].+/)||"function"!=typeof window.ScriptEngine||"JScript"!==window.ScriptEngine())&&"IE 10"},function(){return!(!i.match(/Trident\/[7].*.rv:11/)||"function"!=typeof window.ScriptEngine||"JScript"!==window.ScriptEngine())&&"IE 11"},function(){return!(!i.match(/Edge\/\d+\.\d+/)||"function"!=typeof window.StyleMedia)&&"Edge"},function(){return!(!i.match(/AppleWebKit\/\d.*.Mobile.*Safari\/\d+/)||"Apple Computer, Inc."!==window.navigator.vendor)&&"SafariMobile"},function(){return!(!i.match(/AppleWebKit\/\d.*.Safari\/\d+/)||"Apple Computer, Inc."!==window.navigator.vendor)&&"Safari"}]};var c=function(){return"undefined"==typeof window?"":(a.behaviors.some((function(t){var e=t();return a.myBrowser=e||"unknown",e})),a.myBrowser)},u=function(t){if("string"!=typeof t)return"";var e;try{e=JSON.parse(t)}catch(t){e=""}return e};n(156),n(25),n(32)},5:function(t,e,n){"use strict";n.d(e,"a",(function(){return V})),n.d(e,"b",(function(){return K}));n(3),n(13);var o=n(34),r=n(64),i=n.n(r).a.create({timeout:"undefined"==typeof window?1e3:0});n(7),n(18),n(20),n(21),n(19),n(22),n(23);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"对不起，服务器开小差了~ (ಥ﹏ಥ)",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"error",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-8888,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};if(c(this,t),"object"===a(r)){var l="对不起，服务器开小差了~ (ಥ﹏ಥ)";r.response?l="".concat(r.response.statusText," ").concat(r.response.status):"ECONNABORTED"===r.code&&(l="接口超时，稍后再试试吧~ (ಥ﹏ಥ)"),this.msg=l}else this.msg=r;this.type=i,this.code=u,this.data=s,this.url=n,this.payload=o,this.cost=e},s=n(4),l=Object(s.c)(),f="IE 9"===l||"IE Legacy"===l,d=f||"IE 10"===l||"IE 11"===l;n(2),n(9),n(27);var p={};var y={},v=function(){var t=Math.random();return y[t]=Date.now(),t},h=function(t){if(!t)return 0;if(y[t]){var e=Date.now()-y[t];return delete y[t],e}return 0};n(31),n(24);var b=function(t,e){var n=new RegExp("[?&]".concat(e,"=([^&#]+)"));return(t.match(n)||[])[1]||""},m=(n(30),n(0)),g=n(49),w=n.n(g);function _(t){if(!t)return t;var e=t;if(!("undefined"!=typeof FormData&&e instanceof FormData)){var n={};if("undefined"!=typeof window){var o=b(window.location.href,"lang");if(o){var r="iphone";(/Android/i.test(navigator.userAgent)||/Linux/i.test(navigator.userAgent))&&(r="android"),n.lang=o,n.mobi_app="".concat(r,"_i")}}t=e=Object.assign(n,e),d&&(t._=(new Date).getTime())}return t}n(47);function O(t,e){if("string"==typeof t){var n=t.replace(/("\w*":)\s*(\d{16}\d*)/g,'$1"$2"').replace(/(\\"\w*\\":)\s*(\d{16}\d*)/g,'$1\\"$2\\"').replace(/("\w*":)\s*(\[\s*(\d{16}\d*)\s*(,\s*(\d{16}\d*)\s*)*])/g,(function(t,e,n){return"".concat(e).concat(n.trim().replace(/\[\s*/,'["').replace(/\s*]\s*/,'"]').replace(/\s*,\s*/g,'","'))})).replace(/(\\"\w*\\":)\s*(\[\s*(\d{16}\d*)\s*(,\s*(\d{16}\d*)\s*)*])/g,(function(t,e,n){return"".concat(e).concat(n.trim().replace(/\[\s*/,'[\\"').replace(/\s*]/,'\\"]').replace(/\s*,\s*/g,'\\",\\"'))}));if(e)try{t=JSON.parse(n)}catch(t){}else t=n}return t}function j(t){return O(t,!1)}var k=function(t){return O(t,!0)},S=n(91),C=n.n(S);function P(t,e,n,o,r,i){var a=i?t:t.data;return new Promise((function(t,i){var c,s,l=function(){return 0===a[c]};e.indexOf(m.a.SPACE)>=0?(c="status",s="result",l=function(){return!0===a[c]}):e.indexOf(m.a.BANGUMI)>=0?(c="code",s="result"):e.indexOf(m.a.PASSPORT)>=0?(c="code",s="access_info"):(c="code",s="data"),void 0===a||void 0===a[c]?i(new u(r,e,n)):l()?t(new u(r,e,n,"请求成功","success",0,o?a:a[s])):i(new u(r,e,n,a.message||a.msg||"电波无法到达~ ".concat(a.message||a.msg||a.code),"caution",a[c],a[s]))}))}n(39),n(40);function x(t,e,n){return(x=I()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&T(r,n.prototype),r}).apply(null,arguments)}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t,e,n){for(var o=arguments.length,r=new Array(o>3?o-3:0),i=3;i<o;i++)r[i-3]=arguments[i];return Promise.reject(x(u,[t,e,n].concat(r)))}n(25),n(41);function D(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var R=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.store={};var e={},n={};if("undefined"!=typeof window&&window.localStorage)try{e=JSON.parse(window.localStorage.getItem("bpapi_cache"))||e}catch(t){}var o=(new Date).getTime();Object.keys(e).forEach((function(t){var r=e[t];r&&o-r.ts<r.ttl&&o-r.ts<36e4&&(n[t]=r)})),n.uniqueKey=e.uniqueKey,this.store=n,this.setLocalCache()}var e,n,o;return e=t,(n=[{key:"set",value:function(t,e,n,o,r){var i=this;return(!r||this.store.uniqueKey!==r||"0"===r)&&n>0&&(this.clearCache(),this.store={}),r&&(this.uniqueKey=r,this.store.uniqueKey=r),new Promise((function(a,c){try{var u={};u.response=e,u.ttl=n>0?n:0,u.ts=(new Date).getTime(),i.store[t]=u,o&&n>0&&r&&"0"!==r&&i.setLocalCache(),a({status:"success"})}catch(t){c({status:"failed",data:t})}}))}},{key:"get",value:function(t,e,n){var o=this;return(!n||this.store.uniqueKey!==n||"0"===n)&&e>0&&(this.clearCache(),this.store={}),n&&(this.uniqueKey=n,this.store.uniqueKey=n),new Promise((function(n,r){try{var i=o.store[t],a=(new Date).getTime();i&&a-i.ts<(e>0?e:0)&&a-i.ts<36e4?n({status:"success",data:i.response}):r({status:"failed",data:i})}catch(t){r({status:"failed",data:t})}}))}},{key:"clearCache",value:function(){"undefined"!=typeof window&&window.localStorage&&window.localStorage.removeItem("bpapi_cache")}},{key:"setLocalCache",value:function(){this.uniqueKey&&(this.store.uniqueKey=this.uniqueKey),"undefined"!=typeof window&&window.localStorage&&this.uniqueKey&&window.localStorage.setItem("bpapi_cache",JSON.stringify(this.store))}}])&&D(e.prototype,n),o&&D(e,o),t}(),A=function(){return new R}(),M=(n(44),"undefined"==typeof window);var N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"!=typeof FormData&&t instanceof FormData){for(var n in e)e.hasOwnProperty(n)&&(FormData.prototype.set?t.set(n,e[n]):t.append(n,e[n]));return t}return Object.assign(t,e)},$=function(t){return new Promise((function(e){if(t.addPlatInfo)if(o.inBiliApp){t.data=N(t.data,function(){if("undefined"==typeof navigator)return{};var t=navigator.userAgent;return{build:t.match(/BiliApp\/([^ ]*)/)?t.match(/BiliApp\/([^ ]*)/)[1]:10,mobi_app:t.match(/mobi_app\/([^ ]*)/)[1]}}());try{o.biliBridge.callNative({method:"global.getContainerInfo",callback:function(n){t.data=N(t.data,{build:n.build,mobi_app:n.mobi_app}),e(t)}})}catch(n){e(t)}}else t.data=N(t.data,{build:0,mobi_app:"web"}),e(t);else e(t)}))},L="undefined"!=typeof window&&window.BiliAjax?window.BiliAjax.default:C.a,U=new L({transformResponse:j,oldAppUseAxios:!0,newAppUseV2:!0,transformHeaders:function(){return{"Content-Type":"application/json"}},qsConfig:{jsonStringify:!0}}),B=new L({transformResponse:j,oldAppUseAxios:!0}),F=function(t){if("undefined"!=typeof FormData&&t.data instanceof FormData)return i(_(t));var e=Object.assign({},t);switch(delete e.data,delete e.url,t.method.toLowerCase()){case"get":return(t.ajaxVersion2?U:B).get(t.url,_(t.data),e);case"post":return(t.ajaxVersion2?U:B).post(t.url,_(t.data),e);default:return i(_(t))}};function q(t){var e=t.useBridgeProxy,n=t.urlWithCSRF,o=v(),r=0,a=t.url+JSON.stringify(t.data||"");return A.get(a,t.ttl,String(t.cache_key||"")).then((function(n){return r=h(o),P(n.data,t.url,t.data,t.needOriginal,r,e)})).catch((function(){return $(t).then((function(t){var o=e?F:i,r=function(t){var e="";if(M)return e;var n=document.cookie;if(!n)return e;for(var o=n.split(";"),r=new RegExp("^".concat(t,"=")),i=0;i<o.length;i++){var a=o[i].trim();if(r.test(a)){e=a.split("=")[1];break}}return e}("bili_jct");return n&&(t.url=t.url.indexOf("?")>0&&r?"".concat(t.url,"&csrf=").concat(r):"".concat(t.url,"?csrf=").concat(r)),function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(){if(p[t]&&o>0)return p[t];setTimeout((function(){p[t]=null}),o);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return p[t]=e.apply(n,i),p[t]}}(a,o,t.throttleInterval)(t)})).then((function(n){return A.set(a,n,t.ttl,t.localCache,String(t.cache_key||"")).then((function(){return r=h(o),P(n,t.url,t.data,t.needOriginal,r,e)}))}),(function(){r=h(o);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return E.apply(void 0,[r,t.url,t.data].concat(n))}))}))}var J=n(92),H=n.n(J);o.inBiliApp&&(Object(o.initEnv)(),o.biliBridge.callNative({method:"global.import",data:{namespace:"net"}})),i.interceptors.request.use((function(t){if(!t)return t;var e=t.method,n=t.url,o=t.data;t.withCredentials=!0;var r=o||{},i="string"==typeof e&&"post"===e.toLowerCase();if(i){var a=s.a.getItem("bili_jct")||"";r.csrf_token=a,r.csrf=a}if(!("undefined"!=typeof FormData&&r instanceof FormData)){var c={};if("undefined"!=typeof window){var u=b(window.location.href,"lang");if(u){var l="iphone";(/Android/i.test(navigator.userAgent)||/Linux/i.test(navigator.userAgent))&&(l="android"),c.lang=u,c.mobi_app="".concat(l,"_i")}}r=Object.assign(c,r),i?t.data=Object(g.stringify)(r):(t.params=r,d&&(t.params._=(new Date).getTime()),delete t.data),"undefined"==typeof window&&/^\/\//.test(n)&&(t.url="http:".concat(n))}return t}));var V=function(t){"undefined"==typeof window||window.Promise||console.warn("No window.Promise. @bplus-common/components.bpapi need a promise polyfill.");var e=(t.method||"get").toLowerCase(),n=f&&!function(t){if("undefined"==typeof window)return!1;var e=t.replace(/^(https?:)?(\/\/)?/,"").match(window.location.hostname);return e&&0===e.index}(t.url),o="jsonp"===e;return!o&&n?E(t.url,t.data,"少年啊，你的浏览器太老了辣","caution",-8889):(t.method=e,t.transformResponse=t.transformResponse||[k],o?function(t){var e=v(),n=0,o=t.url,r=/^(http:|https:)?\/\/api\.(live)|(vc)/.test(o),i=t.data&&"[object Object]"===t.data.toString();t.jsonpCallback||!i||"type"in t.data||"jsonp"in t.data?t.jsonpCallback||i||(t.data={type:"jsonp",jsonp:"jsonp"}):(t.data.type="jsonp",t.data.jsonp="jsonp");var a=t.data||{},c={},u="zh_CN";if("undefined"!=typeof window&&(u=b(window.location.href,"lang"))){c.lang=u;var s="iphone";(/Android/i.test(navigator.userAgent)||/Linux/i.test(navigator.userAgent))&&(s="android"),"zh_CN"!==u&&(c.mobi_app="".concat(s,"_i"))}a=Object.assign(c,a);var l=t.data&&t.jsonpCallback||(r?"_cb":"callback"),f=w.a.stringify(a),d=f.length>0?"".concat(o,"?").concat(f):"".concat(o),p=o+JSON.stringify(t.data||"");return A.get(p,t.ttl,String(t.cache_key||"")).then((function(r){return n=h(e),P({data:r.data},o,t.data,t.needOriginal,n)})).catch((function(){return H()(d,{jsonpCallback:l}).then((function(r){return r.ok?r.json().then((function(r){return A.set(p,r,t.ttl,t.localCache,String(t.cache_key||"")).then((function(){return n=h(e),P({data:r},o,t.data,t.needOriginal,n)}))}),(function(){n=h(e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return E.apply(void 0,[n,t.url,t.data].concat(r))})):E(n=h(e),t.url,t.data)}),(function(){n=h(e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return E.apply(void 0,[n,t.url,t.data].concat(r))}))}))}(t):q(t))},K={install:function(t){t.prototype.bpapi||(t.prototype.bpapi=V)}}},54:function(t,e,n){"use strict";n.d(e,"b",(function(){return o.a})),n.d(e,"a",(function(){return i}));var o=n(161),r=(n(117),n(25),n(58),n(7),n(2),n(9),n(30),n(31),n(24),n(51),n(41),n(18),n(32),n(59),n(60),n(75));function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={},n=[];return(n=n.concat(t.free||[]).concat(t.vip||[])).forEach((function(t){t.emojis.forEach((function(n){e[n.name]={url:n.url.replace(/^http:\/\//,"//"),size:t.size}}))})),e}var a={};r.a.allEmojiDataNew.map((function(t){t.purl&&""!==t.purl&&t.emojis&&t.emojis.length&&t.emojis&&t.emojis.length>0&&t.emojis.forEach((function(t){a[t.name]=t.url}))}));n(162)},75:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(25);var o={allEmojiDataNew:[],allEmojiDataOld:[]}}});